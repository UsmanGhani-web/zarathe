<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zaratherapist - Book Your Session</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2e8b57;
            --primary-light: #3cb371;
            --primary-dark: #1f6b41;
            --secondary: #228b22;
            --accent: #32cd32;
            --success: #4cc9f0;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --error: #e53935;
            --shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            --radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }


    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:"Nunito",sans-serif;
      background:linear-gradient(to bottom right,#f6fbfb,#d4ede8);
      display:flex;flex-direction:column;min-height:100vh;
    }
    header{padding:12px 20px;display:flex;align-items:center;justify-content:center;}
    header img{height:45px;margin-right:10px;}
    header a{color:#007f5f;text-decoration:none;font-size:1.6rem;font-weight:bold;font-family:"Montserrat",sans-serif;}
    header sub{font-size:0.7rem;font-style:italic;}

        .scheduler-container {
            display: flex;
            gap: 30px;
            min-height: 70vh;
            width: 100%;
        }


        @media (max-width: 1024px) {
            .scheduler-container {
                flex-direction: column;
            }
        }

        @media (max-width: 768px) {
            .scheduler-container {
                gap: 20px;
            }
        }

        .therapist-details {
            flex: 1;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 25px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            min-width: 0; /* Prevents flex item from overflowing */
        }

        @media (max-width: 480px) {
            .therapist-details {
                padding: 15px;
            }
        }

        .therapist-header {
            display: flex;
            gap: 20px;
            align-items: center;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--light-gray);
        }

        @media (max-width: 480px) {
            .therapist-header {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
        }

        .therapist-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
            flex-shrink: 0;
        }

        @media (max-width: 480px) {
            .therapist-avatar {
                width: 80px;
                height: 80px;
                font-size: 2rem;
            }
        }

        .therapist-info h2 {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 5px;
        }

        @media (max-width: 480px) {
            .therapist-info h2 {
                font-size: 1.5rem;
            }
        }

        .therapist-specialty {
            color: var(--gray);
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .therapist-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .rating-stars {
            color: #ffc107;
        }

        .rating-value {
            font-weight: 600;
            margin-right: 5px;
        }

        .therapist-detail-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            color: var(--gray);
        }

        .therapist-detail-item i {
            color: var(--primary);
            width: 20px;
            flex-shrink: 0;
        }

        .session-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: var(--radius);
            margin-top: 10px;
        }

        .session-info h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .session-type {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        @media (max-width: 480px) {
            .session-type {
                flex-direction: column;
            }
        }

        .session-type-btn {
            flex: 1;
            padding: 10px;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            min-width: 0; /* Prevents flex item from overflowing */
        }

        .session-type-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .booking-section {
            flex: 1;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 25px;
            display: flex;
            flex-direction: column;
            min-width: 0; /* Prevents flex item from overflowing */
        }

        @media (max-width: 480px) {
            .booking-section {
                padding: 15px;
            }
        }

        .booking-section h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-gray);
        }

        .calendar {
            margin-bottom: 25px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .calendar-header h3 {
            color: var(--dark);
            font-size: 1.2rem;
        }

        @media (max-width: 480px) {
            .calendar-header h3 {
                font-size: 1.1rem;
            }
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-nav button {
            background: var(--light);
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .calendar-nav button:hover {
            background: var(--primary);
            color: white;
        }

        .calendar-weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 10px;
        }

        .weekday {
            text-align: center;
            font-weight: 600;
            color: var(--gray);
            padding: 10px 0;
            font-size: 0.9rem;
        }

        @media (max-width: 480px) {
            .weekday {
                font-size: 0.8rem;
                padding: 8px 0;
            }
        }

        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .calendar-day {
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        @media (max-width: 480px) {
            .calendar-day {
                height: 30px;
                font-size: 0.8rem;
            }
        }

        .calendar-day:hover {
            background: var(--light);
        }

        .calendar-day.selected {
            background: var(--primary);
            color: white;
        }

        .calendar-day.disabled {
            color: var(--light-gray);
            cursor: not-allowed;
        }

        .calendar-day.today {
            background: var(--light);
            font-weight: 600;
        }

        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-bottom: 25px;
        }

        @media (max-width: 480px) {
            .time-slots {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .time-slot {
            padding: 10px 5px;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        @media (max-width: 480px) {
            .time-slot {
                padding: 8px 3px;
                font-size: 0.8rem;
            }
        }

        .time-slot:hover {
            background: var(--light);
        }

        .time-slot.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .time-slot.booked {
            background: #ffebee;
            color: #e53935;
            cursor: not-allowed;
        }

        .booking-form {
            margin-top: 20px;
        }

        .form-group {
            margin-bottom: 20px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(46, 139, 87, 0.2);
        }

        .form-control.error {
            border-color: var(--error);
        }

        .form-control.success {
            border-color: var(--primary);
        }

        .error-message {
            color: var(--error);
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
        }

        .form-icon {
            position: absolute;
            right: 15px;
            top: 40px;
            font-size: 1.2rem;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .form-icon.success {
            color: var(--primary);
            opacity: 1;
        }

        .form-icon.error {
            color: var(--error);
            opacity: 1;
        }

        .phone-examples {
            font-size: 0.8rem;
            color: var(--gray);
            margin-top: 5px;
        }

        .book-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .book-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(46, 139, 87, 0.4);
        }

        .book-btn:disabled {
            background: var(--light-gray);
            color: var(--gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .confirmation {
            display: none;
            text-align: center;
            padding: 30px;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-top: 20px;
            width: 100%;
        }

        .confirmation i {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .confirmation h2 {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .confirmation p {
            margin-bottom: 10px;
            color: var(--gray);
        }

        .confirmation-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: var(--radius);
            margin: 20px 0;
            text-align: left;
        }

        .confirmation-details h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .detail-row {
            display: flex;
            margin-bottom: 10px;
        }

        @media (max-width: 480px) {
            .detail-row {
                flex-direction: column;
                margin-bottom: 15px;
            }
        }

        .detail-label {
            font-weight: 600;
            width: 150px;
            color: var(--dark);
        }

        @media (max-width: 480px) {
            .detail-label {
                width: 100%;
                margin-bottom: 5px;
            }
        }

        .detail-value {
            flex: 1;
            color: var(--gray);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        @media (max-width: 480px) {
            .action-buttons {
                flex-direction: column;
            gap: 10px;
            align-items: center;
            width: 100%;
            max-width: 300px;
                margin-left: auto;
                margin-right: auto;
            }
        }

        .action-btn {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 140px;
        }

        @media (max-width: 480px) {
            .action-btn {
                width: 100%;
            }
        }

        .print-btn {
            background: white;
            color: var(--primary);
            border: 1px solid var(--primary);
        }

        .new-booking-btn {
            background: var(--primary);
            color: white;
            border: none;
        }

        footer {
            text-align: center;
            padding: 20px;
            color: var(--gray);
            font-size: 0.9rem;
            margin-top: 30px;
            width: 100%;
        }

        /* Animation for confirmation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }
    </style>
</head>
<body>
    <div class="container">
<header>
    <img src="logohere.png" alt="Logo">
    <a href="index.html">ZARA<sub>t</sub><sub>h</sub><sub>e</sub><sub>r</sub><sub>a</sub><sub>p</sub><sub>i</sub><sub>s</sub><sub>t</sub></a>
  </header>

        <div class="scheduler-container">
            <div class="therapist-details">
                <div class="therapist-header">
                    <div class="therapist-avatar">
                        <i class="fas fa-user-md"></i>
                    </div>
                    <div class="therapist-info">
                        <h2 id="therapist-name">Dr. Sarah Johnson</h2>
                        <div class="therapist-specialty" id="therapist-specialty">Anxiety & Stress Disorders</div>
                        <div class="therapist-rating">
                            <span class="rating-value">4.8</span>
                            <div class="rating-stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <span class="rating-count">(127 reviews)</span>
                        </div>
                    </div>
                </div>

                <div class="therapist-detail-item">
                    <i class="fas fa-briefcase"></i>
                    <span id="therapist-experience">10+ years experience</span>
                </div>
                <div class="therapist-detail-item">
                    <i class="fas fa-hand-holding-heart"></i>
                    <span id="therapist-approach">CBT, Mindfulness, ACT</span>
                </div>
                <div class="therapist-detail-item">
                    <i class="fas fa-language"></i>
                    <span id="therapist-languages">English, Spanish</span>
                </div>
                <div class="therapist-detail-item">
                    <i class="fas fa-calendar-check"></i>
                    <span id="therapist-availability">Online and in-person</span>
                </div>
                <div class="therapist-detail-item">
                    <i class="fas fa-dollar-sign"></i>
                    <span id="therapist-fee">Session fee: $120</span>
                </div>

                <div class="therapist-bio">
                    <p id="therapist-bio">Dr. Johnson specializes in evidence-based treatments for anxiety disorders, including CBT and mindfulness approaches. With over 10 years of experience, she has helped hundreds of clients manage anxiety and improve their quality of life.</p>
                </div>

                <div class="session-info">
                    <h3>Session Information</h3>
                    <p>Standard session duration: <strong>50 minutes</strong></p>
                    <p>Cancellation policy: <strong>24 hours notice required</strong></p>
                    
                    <div class="session-type">
                        <div class="session-type-btn active" data-type="video">
                            <i class="fas fa-video"></i>
                            <div>Video Call</div>
                        </div>
                        <div class="session-type-btn" data-type="phone">
                            <i class="fas fa-phone"></i>
                            <div>Phone Call</div>
                        </div>
                        <div class="session-type-btn" data-type="in-person">
                            <i class="fas fa-user"></i>
                            <div>In-Person</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="booking-section">
                <h2>Schedule Your Session</h2>
                
                <div class="calendar">
                    <div class="calendar-header">
                        <h3 id="current-month">November 2023</h3>
                        <div class="calendar-nav">
                            <button id="prev-month"><i class="fas fa-chevron-left"></i></button>
                            <button id="next-month"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    
                    <div class="calendar-weekdays">
                        <div class="weekday">Sun</div>
                        <div class="weekday">Mon</div>
                        <div class="weekday">Tue</div>
                        <div class="weekday">Wed</div>
                        <div class="weekday">Thu</div>
                        <div class="weekday">Fri</div>
                        <div class="weekday">Sat</div>
                    </div>
                    
                    <div class="calendar-days" id="calendar-days">
                        <!-- Calendar days will be generated by JavaScript -->
                    </div>
                </div>
                
                <div class="time-slots" id="time-slots">
                    <!-- Time slots will be generated by JavaScript -->
                </div>
                
                <div class="booking-form">
                    <div class="form-group">
                        <label for="patient-name">Your Full Name *</label>
                        <input type="text" id="patient-name" class="form-control" placeholder="Enter your full name">
                        <i class="form-icon success fas fa-check-circle"></i>
                        <i class="form-icon error fas fa-exclamation-circle"></i>
                        <div class="error-message" id="name-error">Please enter your full name (letters and spaces only)</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="patient-email">Email Address *</label>
                        <input type="email" id="patient-email" class="form-control" placeholder="Enter your email">
                        <i class="form-icon success fas fa-check-circle"></i>
                        <i class="form-icon error fas fa-exclamation-circle"></i>
                        <div class="error-message" id="email-error">Please enter a valid email address</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="patient-phone">Phone Number *</label>
                        <input type="tel" id="patient-phone" class="form-control" placeholder="Enter your phone number">
                        <i class="form-icon success fas fa-check-circle"></i>
                        <i class="form-icon error fas fa-exclamation-circle"></i>
                        <div class="error-message" id="phone-error">Please enter a valid phone number</div>
                        <div class="phone-examples">Examples: 123-456-7890, (123) 456-7890, 123.456.7890, 1234567890</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="patient-notes">Additional Notes (Optional)</label>
                        <textarea id="patient-notes" class="form-control" rows="3" placeholder="Any specific concerns or preferences..."></textarea>
                    </div>
                    
                    <button class="book-btn" id="book-appointment" disabled>Book Appointment</button>
                </div>
            </div>
        </div>

        <div class="confirmation" id="confirmation">
            <i class="fas fa-check-circle"></i>
            <h2>Appointment Confirmed!</h2>
            <p>Your session has been successfully scheduled.</p>
            <p>You will receive a confirmation email with details shortly.</p>
            
            <div class="confirmation-details">
                <h3>Appointment Details</h3>
                <div class="detail-row">
                    <div class="detail-label">Therapist:</div>
                    <div class="detail-value" id="confirm-therapist">Dr. Sarah Johnson</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Date:</div>
                    <div class="detail-value" id="confirm-date">Monday, November 20, 2023</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Time:</div>
                    <div class="detail-value" id="confirm-time">10:00 AM</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Session Type:</div>
                    <div class="detail-value" id="confirm-type">Video Call</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Duration:</div>
                    <div class="detail-value">50 minutes</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Fee:</div>
                    <div class="detail-value">$120</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="action-btn print-btn" id="print-confirmation">
                    <i class="fas fa-print"></i> Print Confirmation
                </button>
                <button class="action-btn new-booking-btn" id="new-booking">
                    <i class="fas fa-calendar-plus"></i> Book Another Session
                </button>
            </div>
        </div>

        <footer>
            <p>Zaratherapist &copy; 2025 | Your mental wellness is our priority</p>
            <p>Need help? Contact us at support@zaratherapist.com or call (555) 123-HELP</p>
        </footer>
    </div>

    <script>
        // Therapist data
        const therapists = {
            'sarah-johnson': {
                name: 'Dr. Sarah Johnson',
                specialty: 'Anxiety & Stress Disorders',
                bio: 'Dr. Johnson specializes in evidence-based treatments for anxiety disorders, including CBT and mindfulness approaches. With over 10 years of experience, she has helped hundreds of clients manage anxiety and improve their quality of life.',
                experience: '10+ years',
                approach: 'CBT, Mindfulness, ACT',
                languages: 'English, Spanish',
                availability: 'Online and in-person',
                fee: '$120',
                rating: 4.8,
                reviews: 127
            }
        };

        // DOM elements
        const therapistName = document.getElementById('therapist-name');
        const therapistSpecialty = document.getElementById('therapist-specialty');
        const therapistExperience = document.getElementById('therapist-experience');
        const therapistApproach = document.getElementById('therapist-approach');
        const therapistLanguages = document.getElementById('therapist-languages');
        const therapistAvailability = document.getElementById('therapist-availability');
        const therapistFee = document.getElementById('therapist-fee');
        const therapistBio = document.getElementById('therapist-bio');
        const currentMonthEl = document.getElementById('current-month');
        const calendarDaysEl = document.getElementById('calendar-days');
        const timeSlotsEl = document.getElementById('time-slots');
        const sessionTypeBtns = document.querySelectorAll('.session-type-btn');
        const bookBtn = document.getElementById('book-appointment');
        const confirmationEl = document.getElementById('confirmation');
        const prevMonthBtn = document.getElementById('prev-month');
        const nextMonthBtn = document.getElementById('next-month');
        const printBtn = document.getElementById('print-confirmation');
        const newBookingBtn = document.getElementById('new-booking');

        // Form validation elements
        const patientNameInput = document.getElementById('patient-name');
        const patientEmailInput = document.getElementById('patient-email');
        const patientPhoneInput = document.getElementById('patient-phone');
        const nameError = document.getElementById('name-error');
        const emailError = document.getElementById('email-error');
        const phoneError = document.getElementById('phone-error');

        // Current date and selected date
        let currentDate = new Date();
        let selectedDate = null;
        let selectedTime = null;
        let selectedSessionType = 'video';
        let currentTherapist = 'sarah-johnson';

        // Form validation state
        let isNameValid = false;
        let isEmailValid = false;
        let isPhoneValid = false;

        // Initialize the scheduler
        function initScheduler() {
            // Set therapist data
            setTherapistData(currentTherapist);
            
            // Generate calendar
            generateCalendar(currentDate);
            
            // Generate time slots
            generateTimeSlots();
            
            // Add event listeners
            addEventListeners();
            
            // Add form validation listeners
            addFormValidationListeners();
        }

        // Set therapist data
        function setTherapistData(therapistId) {
            const therapist = therapists[therapistId];
            if (!therapist) return;
            
            therapistName.textContent = therapist.name;
            therapistSpecialty.textContent = therapist.specialty;
            therapistExperience.textContent = therapist.experience + ' experience';
            therapistApproach.textContent = therapist.approach;
            therapistLanguages.textContent = therapist.languages;
            therapistAvailability.textContent = therapist.availability;
            therapistFee.textContent = 'Session fee: ' + therapist.fee;
            therapistBio.textContent = therapist.bio;
        }

        // Generate calendar
        function generateCalendar(date) {
            if (!date) return;
            
            const year = date.getFullYear();
            const month = date.getMonth();
            
            // Set current month text
            currentMonthEl.textContent = date.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
            
            // Get first day of month and number of days
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const daysInMonth = lastDay.getDate();
            
            // Clear previous calendar days
            calendarDaysEl.innerHTML = '';
            
            // Add empty cells for days before the first day of the month
            for (let i = 0; i < firstDay.getDay(); i++) {
                const emptyDay = document.createElement('div');
                emptyDay.classList.add('calendar-day', 'disabled');
                calendarDaysEl.appendChild(emptyDay);
            }
            
            // Add days of the month
            for (let i = 1; i <= daysInMonth; i++) {
                const day = document.createElement('div');
                day.classList.add('calendar-day');
                day.textContent = i;
                
                // Check if this is today
                const today = new Date();
                if (year === today.getFullYear() && month === today.getMonth() && i === today.getDate()) {
                    day.classList.add('today');
                }
                
                // Add click event
                day.addEventListener('click', () => selectDate(day, new Date(year, month, i)));
                
                calendarDaysEl.appendChild(day);
            }
        }

        // Generate time slots
        function generateTimeSlots() {
            // Clear previous time slots
            timeSlotsEl.innerHTML = '';
            
            // Define available time slots (9 AM to 5 PM)
            const timeSlots = [
                '9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', 
                '11:00 AM', '11:30 AM', '1:00 PM', '1:30 PM', 
                '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', 
                '4:00 PM', '4:30 PM'
            ];
            
            // Randomly mark some slots as booked for demo purposes
            const bookedSlots = [2, 5, 9, 12]; // Indexes of booked slots
            
            // Create time slot elements
            timeSlots.forEach((time, index) => {
                const slot = document.createElement('div');
                slot.classList.add('time-slot');
                
                if (bookedSlots.includes(index)) {
                    slot.classList.add('booked');
                    slot.textContent = 'Booked';
                } else {
                    slot.textContent = time;
                    slot.addEventListener('click', () => selectTime(slot, time));
                }
                
                timeSlotsEl.appendChild(slot);
            });
        }

        // Select date
        function selectDate(dayElement, date) {
            // Remove selected class from all days
            document.querySelectorAll('.calendar-day').forEach(day => {
                day.classList.remove('selected');
            });
            
            // Add selected class to clicked day
            dayElement.classList.add('selected');
            
            // Store selected date
            selectedDate = date;
            
            // Update book button state
            updateBookButtonState();
        }

        // Select time
        function selectTime(slotElement, time) {
            // Remove selected class from all time slots
            document.querySelectorAll('.time-slot').forEach(slot => {
                if (!slot.classList.contains('booked')) {
                    slot.classList.remove('selected');
                }
            });
            
            // Add selected class to clicked slot
            slotElement.classList.add('selected');
            
            // Store selected time
            selectedTime = time;
            
            // Update book button state
            updateBookButtonState();
        }

        // Add event listeners
        function addEventListeners() {
            // Session type buttons
            sessionTypeBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    sessionTypeBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    selectedSessionType = btn.getAttribute('data-type');
                });
            });
            
            // Calendar navigation
            prevMonthBtn.addEventListener('click', () => {
                currentDate.setMonth(currentDate.getMonth() - 1);
                generateCalendar(currentDate);
            });
            
            nextMonthBtn.addEventListener('click', () => {
                currentDate.setMonth(currentDate.getMonth() + 1);
                generateCalendar(currentDate);
            });
            
            // Book appointment button
            bookBtn.addEventListener('click', bookAppointment);
            
            // Confirmation buttons
            printBtn.addEventListener('click', printConfirmation);
            newBookingBtn.addEventListener('click', resetBooking);
        }

        // Add form validation listeners
        function addFormValidationListeners() {
            // Name validation
            patientNameInput.addEventListener('blur', validateName);
            patientNameInput.addEventListener('input', validateName);
            
            // Email validation
            patientEmailInput.addEventListener('blur', validateEmail);
            patientEmailInput.addEventListener('input', validateEmail);
            
            // Phone validation
            patientPhoneInput.addEventListener('blur', validatePhone);
            patientPhoneInput.addEventListener('input', validatePhone);
        }

        // Validate name field
        function validateName() {
            const name = patientNameInput.value.trim();
            const nameRegex = /^[a-zA-Z\s]{2,}$/;
            
            if (name === '') {
                showError(patientNameInput, nameError, 'Name is required');
                isNameValid = false;
            } else if (!nameRegex.test(name)) {
                showError(patientNameInput, nameError, 'Please enter a valid name (letters and spaces only)');
                isNameValid = false;
            } else {
                showSuccess(patientNameInput);
                hideError(nameError);
                isNameValid = true;
            }
            
            updateBookButtonState();
        }

        // Validate email field
        function validateEmail() {
            const email = patientEmailInput.value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (email === '') {
                showError(patientEmailInput, emailError, 'Email is required');
                isEmailValid = false;
            } else if (!emailRegex.test(email)) {
                showError(patientEmailInput, emailError, 'Please enter a valid email address');
                isEmailValid = false;
            } else {
                showSuccess(patientEmailInput);
                hideError(emailError);
                isEmailValid = true;
            }
            
            updateBookButtonState();
        }

        // Validate phone field - Now accepts multiple formats
        function validatePhone() {
            const phone = patientPhoneInput.value.trim();
            
            // Remove all non-digit characters
            const digitsOnly = phone.replace(/\D/g, '');
            
            if (phone === '') {
                showError(patientPhoneInput, phoneError, 'Phone number is required');
                isPhoneValid = false;
            } else if (digitsOnly.length < 10) {
                showError(patientPhoneInput, phoneError, 'Please enter a valid phone number with at least 10 digits');
                isPhoneValid = false;
            } else if (digitsOnly.length > 15) {
                showError(patientPhoneInput, phoneError, 'Phone number is too long');
                isPhoneValid = false;
            } else {
                showSuccess(patientPhoneInput);
                hideError(phoneError);
                isPhoneValid = true;
                
                // Format the phone number for display
                formatPhoneNumber(patientPhoneInput, digitsOnly);
            }
            
            updateBookButtonState();
        }

        // Format phone number for better readability
        function formatPhoneNumber(input, digits) {
            // Don't format if user is still typing
            if (input !== document.activeElement) {
                let formatted = digits;
                
                // Format as (XXX) XXX-XXXX for 10 digits
                if (digits.length === 10) {
                    formatted = digits.replace(/(\d{3})(\d{3})(\d{4})/, '($1) $2-$3');
                }
                // Format as +X (XXX) XXX-XXXX for 11 digits (country code + number)
                else if (digits.length === 11) {
                    formatted = digits.replace(/(\d{1})(\d{3})(\d{3})(\d{4})/, '+$1 ($2) $3-$4');
                }
                
                input.value = formatted;
            }
        }

        // Show error state for input
        function showError(input, errorElement, message) {
            if (!input || !errorElement) return;
            
            input.classList.remove('success');
            input.classList.add('error');
            
            // Update icons
            const successIcon = input.parentNode.querySelector('.form-icon.success');
            const errorIcon = input.parentNode.querySelector('.form-icon.error');
            
            if (successIcon) successIcon.classList.remove('success');
            if (errorIcon) errorIcon.classList.add('error');
            
            // Show error message
            errorElement.textContent = message;
            errorElement.style.display = 'block';
        }

        // Show success state for input
        function showSuccess(input) {
            if (!input) return;
            
            input.classList.remove('error');
            input.classList.add('success');
            
            // Update icons
            const successIcon = input.parentNode.querySelector('.form-icon.success');
            const errorIcon = input.parentNode.querySelector('.form-icon.error');
            
            if (errorIcon) errorIcon.classList.remove('error');
            if (successIcon) successIcon.classList.add('success');
        }

        // Hide error message
        function hideError(errorElement) {
            if (errorElement) {
                errorElement.style.display = 'none';
            }
        }

        // Update book button state based on validation
        function updateBookButtonState() {
            const isFormValid = isNameValid && isEmailValid && isPhoneValid && selectedDate && selectedTime;
            if (bookBtn) {
                bookBtn.disabled = !isFormValid;
            }
        }

        // Book appointment
        function bookAppointment() {
            // Get form values
            const patientName = document.getElementById('patient-name').value;
            const patientEmail = document.getElementById('patient-email').value;
            const patientPhone = document.getElementById('patient-phone').value;
            
            // Format date for confirmation
            const formattedDate = selectedDate.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            // Update confirmation details
            document.getElementById('confirm-therapist').textContent = therapistName.textContent;
            document.getElementById('confirm-date').textContent = formattedDate;
            document.getElementById('confirm-time').textContent = selectedTime;
            document.getElementById('confirm-type').textContent = 
                selectedSessionType === 'video' ? 'Video Call' : 
                selectedSessionType === 'phone' ? 'Phone Call' : 'In-Person';
            
            // Show confirmation
            confirmationEl.style.display = 'block';
            confirmationEl.classList.add('fade-in');
            
            // Scroll to confirmation
            confirmationEl.scrollIntoView({ behavior: 'smooth' });
        }

        // Print confirmation
        function printConfirmation() {
            window.print();
        }

        // Reset booking form
        function resetBooking() {
            // Hide confirmation
            confirmationEl.style.display = 'none';
            
            // Reset form
            document.getElementById('patient-name').value = '';
            document.getElementById('patient-email').value = '';
            document.getElementById('patient-phone').value = '';
            document.getElementById('patient-notes').value = '';
            
            // Reset validation states
            isNameValid = false;
            isEmailValid = false;
            isPhoneValid = false;
            
            // Reset UI states
            document.querySelectorAll('.form-control').forEach(input => {
                input.classList.remove('success', 'error');
            });
            
            document.querySelectorAll('.form-icon').forEach(icon => {
                icon.classList.remove('success', 'error');
            });
            
            document.querySelectorAll('.error-message').forEach(error => {
                error.style.display = 'none';
            });
            
            // Reset selections
            selectedDate = null;
            selectedTime = null;
            
            // Remove selected classes
            document.querySelectorAll('.calendar-day').forEach(day => {
                day.classList.remove('selected');
            });
            
            document.querySelectorAll('.time-slot').forEach(slot => {
                if (!slot.classList.contains('booked')) {
                    slot.classList.remove('selected');
                }
            });
            
            // Update button state
            updateBookButtonState();
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize the scheduler when page loads
        document.addEventListener('DOMContentLoaded', initScheduler);
    </script>
</body>
</html>