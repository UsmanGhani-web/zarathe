<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ZARA Therapist | Login & Signup</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Nunito:wght@400;600&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">

  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:"Nunito",sans-serif;
      background:linear-gradient(to bottom right,#f6fbfb,#d4ede8);
      display:flex;flex-direction:column;min-height:100vh;
    }
    header{padding:12px 20px;display:flex;align-items:center;justify-content:center;}
    header img{height:45px;margin-right:10px;}
    header a{color:#007f5f;text-decoration:none;font-size:1.6rem;font-weight:bold;font-family:"Montserrat",sans-serif;}
    header sub{font-size:0.7rem;font-style:italic;}

    /* AUTH CONTAINER */
    .auth-container{flex:1;display:flex;align-items:center;justify-content:center;padding:40px 20px;}
    .auth-box{width:100%;max-width:800px;background-color:white;border-radius:20px;overflow:hidden;display:flex;box-shadow:0 10px 25px rgba(0,0,0,0.1);transition:0.5s ease-in-out;}
    .forms-container{width:50%;padding:40px;transition:transform 0.6s ease-in-out;}
    .form{display:none;flex-direction:column;gap:15px;animation:fadeIn 0.5s ease-in-out;}
    .form.active{display:flex;}
    .form h2{text-align:center;color:#007f5f;font-family:"Montserrat",sans-serif;}
    
    /* Password input wrapper */
    .password-wrapper {
      position: relative;
      display: flex;
      align-items: center;
    }
    
    .form input{padding:12px;border:1px solid #ccc;border-radius:10px;outline:none;font-size:1rem;transition:0.3s;width:100%;}
    .form input:focus{border-color:#007f5f;box-shadow:0 0 5px #007f5f60;}
    
    /* Password toggle button */
    .toggle-password {
      position: absolute;
      right: 12px;
      background: none;
      border: none;
      color: #777;
      cursor: pointer;
      font-size: 1rem;
      transition: color 0.3s;
    }
    .toggle-password:hover {
      color: #007f5f;
    }
    
    .form button{background-color:#007f5f;color:white;border:none;padding:12px;border-radius:10px;font-weight:bold;cursor:pointer;transition:0.3s;}
    .form button:hover{background-color:#045d46;}
    .form a{text-align:center;color:#007f5f;font-size:0.9rem;text-decoration:none;}
    .form a:hover{text-decoration:underline;}
    .error-message{color:red;font-size:0.9rem;text-align:center;display:none;}
    .success-message{color:#007f5f;font-size:0.9rem;text-align:center;display:none;}

    /* SLIDER PANEL */
    .slider-panel{width:50%;background:linear-gradient(135deg,#007f5f,#2b7a78);color:white;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:30px;transition:transform 0.6s ease-in-out;}
    .slider-panel h2{font-family:"Montserrat",sans-serif;margin-bottom:15px;}
    .slider-panel p{font-size:0.95rem;margin-bottom:20px;}
    .slider-panel button{background-color:white;color:#007f5f;border:none;padding:10px 25px;border-radius:25px;font-weight:bold;cursor:pointer;transition:0.3s;}
    .slider-panel button:hover{background-color:#045d46;color:white;}
    .auth-box.signup-mode .forms-container{transform:translateX(100%);}
    .auth-box.signup-mode .slider-panel{transform:translateX(-100%);}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}

    /* Responsive design */
    @media (max-width: 768px) {
      .auth-box {
        flex-direction: column;
        max-width: 450px;
      }
      .forms-container, .slider-panel {
        width: 100%;
      }
      .slider-panel {
        padding: 25px 20px;
        order: -1;
      }
      .auth-box.signup-mode .forms-container,
      .auth-box.signup-mode .slider-panel {
        transform: none;
      }
      .forms-container {
        padding: 30px 25px;
      }
    }

    @media (max-width: 480px) {
      .auth-container {
        padding: 20px 15px;
      }
      .forms-container {
        padding: 25px 20px;
      }
      .slider-panel {
        padding: 20px 15px;
      }
      header a {
        font-size: 1.4rem;
      }
      header img {
        height: 40px;
      }
    }

    /* FOOTER */
    .zara-footer{background:linear-gradient(to top,#559288a4,#f6fbfb);color:#2b7a78;border-top-right-radius:40px;border-top-left-radius:40px;border:#00796b 2px solid;padding:60px 20px 20px;font-family:'Poppins',sans-serif;}
    .zara-footer-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:40px;max-width:1400px;margin:auto;}
    .zara-footer-brand .zara-logo{font-size:28px;color:#2b7a78;margin-bottom:10px;}
    .zara-footer-col h3,.zara-footer-newsletter h3{color:#2b7a78;margin-bottom:15px;font-size:18px;}
    .zara-footer-col ul{list-style:none;padding:0;}
    .zara-footer-col ul li{margin-bottom:8px;}
    .zara-footer-col ul li a{color:#2b7a78;text-decoration:none;transition:color 0.3s;}
    .zara-footer-col ul li a:hover{color:#045d46;}
    .zara-footer-newsletter form{display:flex;gap:10px;margin-top:10px;}
    .zara-footer-newsletter input{flex:1;padding:10px;border:none;border-radius:6px;outline:none;}
    .zara-footer-newsletter button{background:#2b7a78;color:#fff;border:none;border-radius:6px;padding:10px 20px;cursor:pointer;transition:background 0.3s;}
    .zara-footer-newsletter button:hover{background:#144442;}
    .subscribe-msg{margin-top:10px;color:#07302e;font-size:14px;display:none;}
    .zara-social-icons{margin-top:20px;}
    .zara-social-icons a{color:#dfe7e7;margin-right:12px;font-size:20px;transition:transform 0.3s;}
    .zara-social-icons a:hover{transform:scale(1.2); color:#2b7a78;}
    .zara-footer-bottom{text-align:center;margin-top:50px;border-top:1px solid rgba(0,0,0,0.2);padding-top:15px;font-size:14px;color:#2b7a78;}
    @media(max-width:768px){.zara-footer-container{text-align:center;}.zara-footer-newsletter form{flex-direction:column;}}
  </style>
</head>
<body>
  <header>
    <img src="logohere.png" alt="Logo" />
    <a href="index.html">ZARA<sub>t</sub><sub>h</sub><sub>e</sub><sub>r</sub><sub>a</sub><sub>p</sub><sub>i</sub><sub>s</sub><sub>t</sub></a>
  </header>

  <div class="auth-container">
    <div class="auth-box" id="authBox">
      <div class="forms-container">
        <!-- LOGIN -->
        <form class="form active" id="loginForm">
          <h2>Login</h2>
          <input type="email" id="loginEmail" placeholder="Email" required>
          
          <div class="password-wrapper">
            <input type="password" id="loginPassword" placeholder="Password" required>
            <button type="button" class="toggle-password" id="toggleLoginPassword"style="background:transparent; color:#007f5f;">
              <i class="fas fa-eye"></i>
            </button>
          </div>
          
          <p class="error-message" id="loginError"></p>
          <p class="success-message" id="loginSuccess"></p>
          <button type="submit">Login</button>
          <a href="#" id="showForgotPassword">Forgot Password?</a>
        </form>

        <!-- SIGNUP -->
        <form class="form" id="signupForm">
          <h2>Sign Up</h2>
          <input type="text" id="signupName" placeholder="Full Name" required>
          <input type="email" id="signupEmail" placeholder="Email" required>
          
          <div class="password-wrapper">
            <input type="password" id="signupPassword" placeholder="Password" required>
            <button type="button" class="toggle-password" id="toggleSignupPassword" style="background:transparent; color:#007f5f;" >
              <i class="fas fa-eye"></i>
            </button>
          </div>
          
          <div class="password-wrapper">
            <input type="password" id="signupConfirm" placeholder="Confirm Password" required>
            <button type="button" class="toggle-password" id="toggleSignupConfirm"  style="background:transparent; color:#007f5f;">
              <i class="fas fa-eye"></i>
            </button>
          </div>
          
          <p class="error-message" id="signupError"></p>
          <p class="success-message" id="signupSuccess"></p>
          <button type="submit">Sign Up</button>
        </form>

        <!-- FORGOT PASSWORD - SIMPLE VERSION -->
        <form class="form" id="forgotPasswordForm">
          <h2>Reset Password</h2>
          <p style="text-align: center; margin-bottom: 15px;">Enter your email to reset your password</p>
          <input type="email" id="forgotEmail" placeholder="Enter your email" required>
          <p class="error-message" id="forgotError"></p>
          <p class="success-message" id="forgotSuccess"></p>
          <button type="submit" id="resetPasswordBtn">Reset Password</button>
          <a href="#" id="backToLoginFromForgot">Back to Login</a>
        </form>
      </div>

      <div class="slider-panel" id="sliderPanel">
        <div id="loginPanel">
          <h2>New Here?</h2>
          <p>Join ZaraTherapy and begin your mental wellness journey today.</p>
          <button id="showSignup">Sign Up</button>
        </div>
        <div id="signupPanel" style="display:none;">
          <h2>Welcome Back!</h2>
          <p>Already have an account? Log in to continue.</p>
          <button id="showLogin">Login</button>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="zara-footer">
    <div class="zara-footer-container">
      <div class="zara-footer-brand">
        <h2>ZARA<sub>T</sub><sub>h</sub><sub>e</sub><sub>r</sub><sub>a</sub><sub>p</sub><sub>i</sub><sub>s</sub><sub>t</sub></h2>
        <p>Where understanding meets transformation.</p>
      </div>

      <div class="zara-footer-col">
        <h3>Explore</h3>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="aboutus.html">About</a></li>
          <li><a href="faq.html">FAQ</a></li>
          <li><a href="advice.html">Advice</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>

      <div class="zara-footer-col">
        <h3>Legal & Accessibility</h3>
        <ul>
          <li><a href="terms.html">Terms & Conditions</a></li>
          <li><a href="privacypolicy.html">Privacy Policy</a></li>
          <li><a href="success.html">Sharing Settings</a></li>
          <li><a href="web-accessibilities.html">Web Accessibility</a></li>
        </ul>
      </div>

      <div class="zara-footer-col">
        <h3>Contact</h3>
        <p>Email: <a href="mailto:zara@therapist.com" style="text-decoration: none; color: #007f5f;">zara@therapist.com</a></p>
        <p>Phone: +123 456 7890</p>
        <p>Location: Online & In-Person</p>
      </div>

      <div class="zara-footer-newsletter">
        <h3>Stay Connected</h3>
        <p>Join our newsletter for mental wellness tips.</p>
        <form id="newsletter-form">
          <input type="email" id="newsletter-email" placeholder="Enter your email" required>
          <button type="submit">Subscribe</button>
        </form>
        <p id="subscribe-msg" class="subscribe-msg"></p>
        <div class="zara-social-icons">
          <a href="https://facebook.com"><i class="fab fa-facebook-f"></i></a>
          <a href="https://instagram.com"><i class="fab fa-instagram"></i></a>
          <a href="https://x.com"><i class="fab fa-twitter"></i></a>
          <a href="https://linkedin.com"><i class="fab fa-linkedin-in"></i></a>
        </div>
      </div>
    </div>
    <div class="zara-footer-bottom">
      <p>&copy; 2025 ZARA Therapist. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // DOM Elements
    const authBox = document.getElementById('authBox');
    const showSignup = document.getElementById('showSignup');
    const showLogin = document.getElementById('showLogin');
    const loginForm = document.getElementById('loginForm');
    const signupForm = document.getElementById('signupForm');
    const forgotPasswordForm = document.getElementById('forgotPasswordForm');
    const loginPanel = document.getElementById('loginPanel');
    const signupPanel = document.getElementById('signupPanel');
    
    // Forgot Password Elements
    const showForgotPassword = document.getElementById('showForgotPassword');
    const backToLoginFromForgot = document.getElementById('backToLoginFromForgot');
    const resetPasswordBtn = document.getElementById('resetPasswordBtn');

    // Password toggle functionality
    function setupPasswordToggle(passwordId, toggleId) {
      const passwordInput = document.getElementById(passwordId);
      const toggleButton = document.getElementById(toggleId);
      
      toggleButton.addEventListener('click', function() {
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
        
        // Toggle eye icon
        const icon = this.querySelector('i');
        icon.classList.toggle('fa-eye');
        icon.classList.toggle('fa-eye-slash');
      });
    }

    // Initialize password toggles
    setupPasswordToggle('loginPassword', 'toggleLoginPassword');
    setupPasswordToggle('signupPassword', 'toggleSignupPassword');
    setupPasswordToggle('signupConfirm', 'toggleSignupConfirm');

    // Form navigation
    showSignup.addEventListener('click', () => {
      authBox.classList.add('signup-mode');
      loginForm.classList.remove('active');
      signupForm.classList.add('active');
      loginPanel.style.display = 'none';
      signupPanel.style.display = 'block';
    });

    showLogin.addEventListener('click', () => {
      authBox.classList.remove('signup-mode');
      signupForm.classList.remove('active');
      loginForm.classList.add('active');
      signupPanel.style.display = 'none';
      loginPanel.style.display = 'block';
    });

    // Forgot Password Navigation
    showForgotPassword.addEventListener('click', (e) => {
      e.preventDefault();
      loginForm.classList.remove('active');
      forgotPasswordForm.classList.add('active');
    });

    backToLoginFromForgot.addEventListener('click', (e) => {
      e.preventDefault();
      forgotPasswordForm.classList.remove('active');
      loginForm.classList.add('active');
    });

    // Simple Password Reset
    resetPasswordBtn.addEventListener('click', (e) => {
      e.preventDefault();
      const email = document.getElementById('forgotEmail').value.trim().toLowerCase();
      const error = document.getElementById('forgotError');
      const success = document.getElementById('forgotSuccess');
      
      error.style.display = 'none';
      success.style.display = 'none';

      if (!isValidEmail(email)) {
        error.textContent = 'Please enter a valid email address.';
        error.style.display = 'block';
        return;
      }

      // Check if email exists in users
      const existingUsers = JSON.parse(localStorage.getItem('zaraUsers')) || [];
      const userExists = existingUsers.some(user => user.email === email);
      
      if (!userExists) {
        error.textContent = 'No account found with this email address.';
        error.style.display = 'block';
        return;
      }

      // Simple reset - generate temporary password
      const tempPassword = generateTempPassword();
      const userIndex = existingUsers.findIndex(user => user.email === email);
      
      if (userIndex !== -1) {
        // Store temporary password (in real app, this would be sent via email)
        existingUsers[userIndex].password = tempPassword;
        localStorage.setItem('zaraUsers', JSON.stringify(existingUsers));
        
        success.textContent = `Password reset instructions sent to ${email}. Temporary password: ${tempPassword}`;
        success.style.display = 'block';
        
        // Return to login after delay
        setTimeout(() => {
          forgotPasswordForm.classList.remove('active');
          loginForm.classList.add('active');
          document.getElementById('loginEmail').value = email;
        }, 3000);
      }
    });

    // Utility Functions
    function isValidEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    function generateTempPassword() {
      return Math.random().toString(36).slice(-8);
    }

    // === SIGNUP ===
    signupForm.addEventListener('submit', e => {
      e.preventDefault();
      const name = document.getElementById('signupName').value.trim();
      const email = document.getElementById('signupEmail').value.trim().toLowerCase();
      const password = document.getElementById('signupPassword').value.trim();
      const confirm = document.getElementById('signupConfirm').value.trim();
      const error = document.getElementById('signupError');
      const success = document.getElementById('signupSuccess');
      
      error.style.display = 'none';
      success.style.display = 'none';

      if (!name || !email || !password || !confirm) {
        error.textContent = 'All fields are required.';
        error.style.display = 'block';
        return;
      }
      
      if (!isValidEmail(email)) {
        error.textContent = 'Invalid email format.';
        error.style.display = 'block';
        return;
      }
      
      if (password.length < 6) {
        error.textContent = 'Password must be at least 6 characters long.';
        error.style.display = 'block';
        return;
      }
      
      if (password !== confirm) {
        error.textContent = 'Passwords do not match.';
        error.style.display = 'block';
        return;
      }

      // Check if user already exists
      const existingUsers = JSON.parse(localStorage.getItem('zaraUsers')) || [];
      const userExists = existingUsers.some(user => user.email === email);
      
      if (userExists) {
        error.textContent = 'An account with this email already exists.';
        error.style.display = 'block';
        return;
      }

      // Save user to localStorage
      const newUser = { 
        name, 
        email, 
        password,
        phone: "",
        bio: "Welcome to my profile! I'm excited to start my therapy journey with ZaraTherapy.",
        photo: "https://via.placeholder.com/150"
      };
      existingUsers.push(newUser);
      localStorage.setItem('zaraUsers', JSON.stringify(existingUsers));
      
      // Also save as signupData for profile page
      localStorage.setItem('signupData', JSON.stringify(newUser));
      
      success.textContent = 'ðŸŽ‰ Signup successful! You can now login.';
      success.style.display = 'block';
      
      // Reset form and show login after delay
      setTimeout(() => {
        signupForm.reset();
        showLogin.click();
      }, 2000);
    });

    // === LOGIN ===
    loginForm.addEventListener('submit', e => {
      e.preventDefault();
      const email = document.getElementById('loginEmail').value.trim().toLowerCase();
      const password = document.getElementById('loginPassword').value.trim();
      const error = document.getElementById('loginError');
      const success = document.getElementById('loginSuccess');
      
      error.style.display = 'none';
      success.style.display = 'none';

      if (!email || !password) {
        error.textContent = 'Please fill in all fields.';
        error.style.display = 'block';
        return;
      }
      
      if (!isValidEmail(email)) {
        error.textContent = 'Please enter a valid email.';
        error.style.display = 'block';
        return;
      }

      // Check credentials against stored users
      const existingUsers = JSON.parse(localStorage.getItem('zaraUsers')) || [];
      const user = existingUsers.find(user => user.email === email && user.password === password);
      
      if (user) {
        // Save current user session and login data for profile page
        localStorage.setItem('currentUser', JSON.stringify(user));
        localStorage.setItem('loginData', JSON.stringify({
          email: user.email,
          password: user.password,
          name: user.name
        }));
        
        success.textContent = 'âœ… Login successful! Redirecting...';
        success.style.display = 'block';
        
        // Redirect after delay
        setTimeout(() => {
          window.location.href = 'profile.html';
        }, 1500);
      } else {
        error.textContent = 'Invalid email or password.';
        error.style.display = 'block';
      }
    });

    // === NEWSLETTER ===
    document.getElementById('newsletter-form').addEventListener('submit', e => {
      e.preventDefault();
      const email = document.getElementById('newsletter-email').value.trim();
      const msg = document.getElementById('subscribe-msg');
      
      if (!isValidEmail(email)) {
        msg.textContent = 'âš ï¸ Please enter a valid email address.';
        msg.style.color = 'red';
        msg.style.display = 'block';
        return;
      }
      
      // Save newsletter subscription to localStorage
      const subscribers = JSON.parse(localStorage.getItem('newsletterSubscribers')) || [];
      subscribers.push(email);
      localStorage.setItem('newsletterSubscribers', JSON.stringify(subscribers));
      
      msg.textContent = 'âœ… Thanks for subscribing!';
      msg.style.color = '#007f5f';
      msg.style.display = 'block';
      
      setTimeout(() => {
        msg.style.display = 'none';
      }, 4000);
      
      e.target.reset();
    });
  </script>
</body>
</html>